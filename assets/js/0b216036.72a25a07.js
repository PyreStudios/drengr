"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[493],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(n),h=a,m=d["".concat(c,".").concat(h)]||d[h]||p[h]||i;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4194:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=n(3117),a=(n(7294),n(3905));const i={sidebar_position:1},o="What is a Container",s={unversionedId:"container/what_is_a_container",id:"container/what_is_a_container",title:"What is a Container",description:"A container, in the Steward sense, is simply a box that things can be stored in and retrieved from. In our case, we use our Container as the foundation for our dependency injection framework. The container should be one of the simpest things about Steward. You can put key-value pairs into it, and you can select values by their key.",source:"@site/docs/container/what_is_a_container.md",sourceDirName:"container",slug:"/container/what_is_a_container",permalink:"/steward/docs/container/what_is_a_container",draft:!1,editUrl:"https://github.com/pyrestudios/steward/tree/main/docs/container/what_is_a_container.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Static Assets",permalink:"/steward/docs/router/static_assets"},next:{title:"CacheContainer",permalink:"/steward/docs/container/cache_container"}},c={},l=[],u={toc:l};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"what-is-a-container"},"What is a Container"),(0,a.kt)("p",null,"A container, in the Steward sense, is simply a box that things can be stored in and retrieved from. In our case, we use our Container as the foundation for our dependency injection framework. The container should be one of the simpest things about Steward. You can put key-value pairs into it, and you can select values by their key."),(0,a.kt)("h1",{id:"di-in-a-nutshell"},"DI in a Nutshell"),(0,a.kt)("p",null,'Simply put, DI (Dependency Injection) is a technique in which an object recieves other objects that it depends on. There are typically three main names used to identify DI components. A "Client" is the object that dependencies are being provided to, an injected object is often (but not always) called a "Service", and finally the code that passes the Service into the Client is called an "Injector."'),(0,a.kt)("p",null,'In Steward, the Client is typically a Controller, the Injector is controlled by the framework, and the "Service" is whatever you want to define and inject (connection pools are a common example).'),(0,a.kt)("p",null,"The intent behind DI is to provide a separation of concerns when it comes to constructing objects."),(0,a.kt)("h1",{id:"binding-a-service-to-the-di-container"},'Binding a "Service" to the DI Container'),(0,a.kt)("p",null,'Let\'s start by binding a "Service" to the DI container.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dart"},"var container = CacheContainer();\ncontainer.bind<String>('sample', (Container container) {\n  return 'ABC123';\n});\n")),(0,a.kt)("p",null,"This simple snippet shows how we can new up an implementer of Container (CacheContainer is what Steward ships with but you can provide your own!). Then, we bind a String value (the generic specifies the type of the Value returned) to the key of 'sample.' The second parameter is called a binding function. The reason we use a function for binding is that it allows us to access previously bound \"Services\" in the container when creating our new binding. Finally, the binding function returns a String (in our case, the \"key\" of 'ABC123')."),(0,a.kt)("h1",{id:"getting-a-value-from-a-container"},"Getting a value from a Container"),(0,a.kt)("p",null,"Let's bind the same value from above:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dart"},"var container = CacheContainer();\ncontainer.bind<String>('sample', (Container container) {\n  return 'ABC123';\n});\n")),(0,a.kt)("p",null,"Now we'll likely want to retrieve this String from our container at some point. Doing so is fairly simple!"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dart"},"var key = container.make<String>('sample');\n// key is now 'ABC123'\n")),(0,a.kt)("h1",{id:"complex-values"},"Complex Values"),(0,a.kt)("p",null,"The CacheContainer (that ships with Steward) keeps everything in memory by default. This allows us to store complex values (like objects) in the container as well."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dart"},"class UserService {\n  static Key = 'UserService';\n  String loggedInID;\n\n  UserService(this.loggedInID);\n}\n\n\nvar container = CacheContainer();\ncontainer.bind<UserService>(UserService.Key, (Container container) {\n  return UserService('1');\n});\n\ncontainer.make<UserService>(UserService.Key).loggedInID;\n// 1\n")),(0,a.kt)("h1",{id:"how-to-get-a-container"},"How to get a Container"),(0,a.kt)("p",null,"The Router uses a container behind the scenes and news one up when you new up a router. You can access this via the container property on the router, or you can provide your own container to the router by calling ",(0,a.kt)("inlineCode",{parentName:"p"},"router.setContainer(myContainer)"),". Its important to know that the Steward framework uses the container that's on the router. Binding items to your container but not setting that as the router's container is effectively useless."))}p.isMDXComponent=!0}}]);