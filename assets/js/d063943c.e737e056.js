"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[844],{3905:(e,r,n)=>{n.d(r,{Zo:()=>c,kt:()=>d});var t=n(7294);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function i(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=t.createContext({}),p=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},c=function(e){var r=p(e.components);return t.createElement(l.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},m=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=p(n),d=o,f=m["".concat(l,".").concat(d)]||m[d]||u[d]||a;return n?t.createElement(f,s(s({ref:r},c),{},{components:n})):t.createElement(f,s({ref:r},c))}));function d(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=m;var i={};for(var l in r)hasOwnProperty.call(r,l)&&(i[l]=r[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=n[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7399:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var t=n(3117),o=(n(7294),n(3905));const a={sidebar_position:1},s="Forms",i={unversionedId:"forms/forms",id:"forms/forms",title:"Forms",description:"Steward ships with a small abstraction to aid in building Forms.",source:"@site/docs/forms/forms.md",sourceDirName:"forms",slug:"/forms/",permalink:"/steward/docs/forms/",draft:!1,editUrl:"https://github.com/pyrestudios/steward/tree/main/docs/forms/forms.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Views",permalink:"/steward/docs/app/views"},next:{title:"Containerizing a Steward App",permalink:"/steward/docs/deploying/dockerizing-a-steward-app"}},l={},p=[],c={toc:p};function u(e){let{components:r,...n}=e;return(0,o.kt)("wrapper",(0,t.Z)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"forms"},"Forms"),(0,o.kt)("p",null,"Steward ships with a small abstraction to aid in building Forms."),(0,o.kt)("p",null,"For example, we can set up a simple Sign Up form like so: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"class _SignUpForm extends Form {\n  final String? email;\n  final String? password;\n\n  _SignUpForm(Map<String, String> json)\n      : email = json['email'],\n        password = json['password'],\n        super((Form _self) {\n          final self = _self as _SignUpForm;\n          final errors = <FormError>[];\n\n          if (self.email == null || self.password == null) {\n            errors.add(FormError('Email and password are required'));\n          }\n\n          if (self.email?.isEmpty == true) {\n            errors.add(FormError('Email is required'));\n          }\n\n          if (self.password?.isEmpty == true &&\n              (self.password?.length ?? 0) < 8) {\n            errors.add(FormError('Password is not strong enough.'));\n          }\n\n          return errors;\n        });\n}\n")),(0,o.kt)("p",null,"Of course, your sign up form may have different business logic associated with it and perhaps better validation, but the general shape of your form will match the one above. You'll take in some parameters to the form constructor and then call super, passing in a function to validate the form. That function will create a list of errors and return those errors. If no errors are returned, the form is assumed to be valid. "),(0,o.kt)("p",null,"Using the form in the above example, we can set up a POST binding on our controller that uses our Sign Up form:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},"@Post('/')\n  Future<Response> signUp(Request request) async {\n    final form = _SignUpForm(jsonDecode(await request.getBody()));\n    final errors = form.validate();\n    if (form.isValid) {\n      final account = Account.signUp(\n        emailAddress: form.email!,\n        password: form.password!,\n      );\n      await accountsTable.insert(account);\n      return Response.Ok(account);\n    } else {\n      return Response.BadRequest(errors);\n    }\n  }\n")))}u.isMDXComponent=!0}}]);